swagger: "2.0"

info:
  title: Storage
  version: 1.0.0

basePath: /
schemes:
  - http

definitions:

  Hash:
    type: string
    minLength: 1

  KeyPair:
    type: object
    required:
        - key
        - value
    properties:
        key:    
          type: string
          minLength: 1
        value:
          type: string

consumes:
  - application/json
produces:
  - application/json          

paths:
  /save:
    post:
      operationId: "save"
      parameters:
        - name: args
          required: true
          in: body
          schema:
            type: object
            required:
              - hash
              - keyPair
            properties:
              hash:
                $ref: '#/definitions/Hash'
              keyPair:
                $ref: '#/definitions/KeyPair'
      responses:
        204:
          description: OK
        500:
          description: internal error
  /load:
    post:
      operationId: "load"
      parameters:
        - name: args
          required: true
          in: body
          schema:
            type: object
            required:
              - hash
              - key
            properties:
              hash:
                $ref: '#/definitions/Hash'
              key:
                type: string
                minLength: 1
      responses:
        200:
          description: OK
          schema:
            type: string
        404:
          description: not found
        500:
          description: internal error
  /ping:
    post:
      operationId: "ping"
      parameters:
        - name: args
          required: true
          in: body
          schema:
            type: object
            required:
              - hash
            properties:
              hash:
                $ref: '#/definitions/Hash'
      responses:
        200:
          description: OK
          schema:
            type: object
            required:
              - serviceAmount
            properties:
              serviceAmount:
                type: integer
  /info:
    get:
      operationId: "info"
      responses:
        200:
          description: OK
          schema:
            type: string
